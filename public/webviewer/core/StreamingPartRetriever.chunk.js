/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[11],{563:function(wa,ta,h){h.r(ta);var pa=h(0),na=h(1);h.n(na);var oa=h(3),ka=h(186);wa=h(54);var la=h(118),ha=h(309),aa=h(91),y=h(308);h=h(475);var r=window,n=function(){function f(a,w,ea){var ba=-1===a.indexOf("?")?"?":"&";switch(w){case aa.a.NEVER_CACHE:this.url=a+ba+"_="+Object(na.uniqueId)();break;default:this.url=a}this.tg=ea;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}f.prototype.start=function(a,w){var ea=this,ba=this,ca=this.request,x;ba.IB=0;a&&Object.keys(a).forEach(function(fa){ea.request.setRequestHeader(fa,a[fa])});w&&(this.request.withCredentials=w);this.JJ=setInterval(function(){var fa=0===window.document.URL.indexOf("file:///");fa=200===ca.status||
fa&&0===ca.status;if(ca.readyState!==y.b.DONE||fa){try{ca.responseText}catch(z){return}ba.IB<ca.responseText.length&&(x=ba.Yxa())&&ba.trigger(f.Events.DATA,[x]);0===ca.readyState&&(clearInterval(ba.JJ),ba.trigger(f.Events.DONE))}else clearInterval(ba.JJ),ba.trigger(f.Events.DONE,["Error received return status "+ca.status])},1E3);this.request.send(null);this.status=y.a.STARTED};f.prototype.Yxa=function(){var a=this.request,w=a.responseText;if(0!==w.length)if(this.IB===w.length)clearInterval(this.JJ),
this.trigger(f.Events.DONE);else return w=Math.min(this.IB+3E6,w.length),a=r.P2(a,this.IB,!0,w),this.IB=w,a};f.prototype.abort=function(){clearInterval(this.JJ);var a=this;this.request.onreadystatechange=function(){Object(oa.j)("StreamingRequest aborted");a.status=y.a.ABORTED;return a.trigger(f.Events.ABORTED)};this.request.abort()};f.prototype.finish=function(){var a=this;this.request.onreadystatechange=function(){a.status=y.a.SUCCESS;return a.trigger(f.Events.DONE)};this.request.abort()};f.Events=
{DONE:"done",DATA:"data",ABORTED:"aborted"};return f}();Object(wa.a)(n);var e;(function(f){f[f.LOCAL_HEADER=0]="LOCAL_HEADER";f[f.FILE=1]="FILE";f[f.CENTRAL_DIR=2]="CENTRAL_DIR"})(e||(e={}));var b=function(f){function a(){var w=f.call(this)||this;w.buffer="";w.state=e.LOCAL_HEADER;w.RU=4;w.So=null;w.Yw=ka.c;w.Hq={};return w}Object(pa.c)(a,f);a.prototype.Qxa=function(w){var ea;for(w=this.buffer+w;w.length>=this.Yw;)switch(this.state){case e.LOCAL_HEADER:this.So=ea=this.bya(w.slice(0,this.Yw));if(ea.Nx!==
ka.g)throw Error("Wrong signature in local header: "+ea.Nx);w=w.slice(this.Yw);this.state=e.FILE;this.Yw=ea.QN+ea.Ot+ea.pA+this.RU;this.trigger(a.Events.HEADER,[ea]);break;case e.FILE:this.So.name=w.slice(0,this.So.Ot);this.Hq[this.So.name]=this.So;ea=this.Yw-this.RU;var ba=w.slice(this.So.Ot+this.So.pA,ea);this.trigger(a.Events.FILE,[this.So.name,ba,this.So.jO]);w=w.slice(ea);if(w.slice(0,this.RU)===ka.h)this.state=e.LOCAL_HEADER,this.Yw=ka.c;else return this.state=e.CENTRAL_DIR,!0}this.buffer=w;
return!1};a.Events={HEADER:"header",FILE:"file"};return a}(ha.a);Object(wa.a)(b);wa=function(f){function a(w,ea,ba,ca,x){ba=f.call(this,w,ba,ca)||this;ba.url=w;ba.stream=new n(w,ea);ba.ze=new b;ba.m7=window.createPromiseCapability();ba.P7={};ba.tg=x;return ba}Object(pa.c)(a,f);a.prototype.KC=function(w){var ea=this;this.request([this.nl,this.qn,this.ml]);this.stream.addEventListener(n.Events.DATA,function(ba){try{if(ea.ze.Qxa(ba))return ea.stream.finish()}catch(ca){throw ea.stream.abort(),ea.Ws(ca),
w(ca),ca;}});this.stream.addEventListener(n.Events.DONE,function(ba){ea.qxa=!0;ea.m7.resolve();ba&&(ea.Ws(ba),w(ba))});this.ze.addEventListener(b.Events.HEADER,Object(na.bind)(this.O7,this));this.ze.addEventListener(b.Events.FILE,Object(na.bind)(this.sya,this));return this.stream.start(this.tg,this.withCredentials)};a.prototype.K2=function(w){var ea=this;this.m7.promise.then(function(){w(Object.keys(ea.ze.Hq))})};a.prototype.rr=function(){return!0};a.prototype.request=function(w){var ea=this;this.qxa&&
w.forEach(function(ba){ea.P7[ba]||ea.oEa(ba)})};a.prototype.O7=function(){};a.prototype.abort=function(){this.stream&&this.stream.abort()};a.prototype.oEa=function(w){this.trigger(la.a.Events.PART_READY,[{Gb:w,error:"Requested part not found",rk:!1,vh:!1}])};a.prototype.sya=function(w,ea,ba){this.P7[w]=!0;this.trigger(la.a.Events.PART_READY,[{Gb:w,data:ea,rk:!1,vh:!1,error:null,de:ba}])};return a}(la.a);Object(h.a)(wa);Object(h.b)(wa);ta["default"]=wa}}]);}).call(this || window)
