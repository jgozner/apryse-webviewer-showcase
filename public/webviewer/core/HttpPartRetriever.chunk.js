/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{554:function(wa,ta,h){h.r(ta);h.d(ta,"ByteRangeRequest",function(){return w});var pa=h(0),na=h(1);h.n(na);var oa=h(3),ka=h(186);wa=h(118);var la=h(309),ha=h(86),aa=h(91),y=h(308),r=h(204);h=h(475);var n=[],e=[],b=window,f=function(){return function(){this.ip=1}}(),a;(function(ba){ba[ba.UNSENT=0]="UNSENT";ba[ba.DONE=4]="DONE"})(a||(a={}));var w=function(){function ba(ca,x,fa,z){var ma=this;this.url=ca;this.range=x;this.tg=fa;
this.withCredentials=z;this.$da=a;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);b.Uint8Array&&(this.request.responseType="arraybuffer");z&&(this.request.withCredentials=z);ea.DISABLE_RANGE_HEADER||(Object(na.isUndefined)(x.stop)?this.request.setRequestHeader("Range","bytes="+x.start):this.request.setRequestHeader("Range",["bytes=",x.start,"-",x.stop-1].join("")));fa&&Object.keys(fa).forEach(function(ia){ma.request.setRequestHeader(ia,fa[ia])});this.request.overrideMimeType?
this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}ba.prototype.start=function(ca){var x=this,fa=this.request;fa.onreadystatechange=function(){if(x.aborted)return x.status=y.a.ABORTED,ca({code:y.a.ABORTED});if(this.readyState===x.$da.DONE){x.SH();var z=0===window.document.URL.indexOf("file:///");200===fa.status||206===fa.status||z&&0===fa.status?(z=b.P2(this),x.ZU(z,ca)):(x.status=y.a.ERROR,
ca({code:x.status,status:x.status}))}};this.request.send(null);this.status=y.a.STARTED};ba.prototype.ZU=function(ca,x){this.status=y.a.SUCCESS;if(x)return x(!1,ca)};ba.prototype.abort=function(){this.SH();this.aborted=!0;this.request.abort()};ba.prototype.SH=function(){var ca=Object(r.c)(this.url,this.range,e);-1!==ca&&e.splice(ca,1);if(0<n.length){ca=n.shift();var x=new ba(ca.url,ca.range,this.tg,this.withCredentials);ca.request=x;e.push(ca);x.start(Object(r.d)(ca))}};ba.prototype.extend=function(ca){var x=
Object.assign({},this,ca.prototype);x.constructor=ca;return x};return ba}(),ea=function(ba){function ca(x,fa,z,ma,ia){z=ba.call(this,x,z,ma)||this;z.$k={};z.ZF=fa;z.url=x;z.DISABLE_RANGE_HEADER=!1;z.BC=w;z.lW=3;z.tg=ia||{};return z}Object(pa.c)(ca,ba);ca.prototype.Vz=function(x,fa,z){var ma=-1===x.indexOf("?")?"?":"&";switch(z){case !1:case aa.a.NEVER_CACHE:x=x+ma+"_="+Object(na.uniqueId)();break;case !0:case aa.a.CACHE:x=x+ma+"_="+fa.start+","+(Object(na.isUndefined)(fa.stop)?"":fa.stop)}return x};
ca.prototype.Z_=function(x,fa,z,ma){void 0===z&&(z={});return new this.BC(x,fa,z,ma)};ca.prototype.Nna=function(x,fa,z,ma,ia){for(var ja=0;ja<n.length;ja++)if(Object(na.isEqual)(n[ja].range,fa)&&Object(na.isEqual)(n[ja].url,x))return n[ja].gi.push(ma),n[ja].eJ++,null;for(ja=0;ja<e.length;ja++)if(Object(na.isEqual)(e[ja].range,fa)&&Object(na.isEqual)(e[ja].url,x))return e[ja].gi.push(ma),e[ja].eJ++,null;z={url:x,range:fa,ZF:z,gi:[ma],eJ:1};if(0===n.length&&e.length<this.lW)return e.push(z),z.request=
this.Z_(x,fa,ia,this.withCredentials),z;n.push(z);return null};ca.prototype.gr=function(x,fa,z){var ma=this.Vz(x,fa,this.ZF);(x=this.Nna(ma,fa,this.ZF,z,this.tg))&&x.request.start(Object(r.d)(x));return function(){var ia=Object(r.c)(ma,fa,e);if(-1!==ia){var ja=--e[ia].eJ;0===ja&&e[ia].request&&e[ia].request.abort()}else ia=Object(r.c)(ma,fa,n),-1!==ia&&(ja=--n[ia].eJ,0===ja&&n.splice(ia,1))}};ca.prototype.h2=function(){return{start:-ka.a}};ca.prototype.qsa=function(){var x=-(ka.a+ka.e);return{start:x-
ka.d,end:x}};ca.prototype.Sw=function(x){var fa=this;this.gG=!0;var z=ka.a;this.gr(this.url,this.h2(),function(ma,ia,ja){function ra(){var qa=fa.ze.e2();fa.gr(fa.url,qa,function(sa,va){if(sa)return Object(oa.j)("Error loading central directory: "+sa),x(sa);va=Object(ha.a)(va);if(va.length!==qa.stop-qa.start)return x("Invalid XOD file: Zip central directory data is wrong size! Should be "+(qa.stop-qa.start)+" but is "+va.length);fa.ze.F7(va);fa.cO=!0;fa.gG=!1;return x(!1)})}if(ma)return Object(oa.j)("Error loading end header: "+
ma),x(ma,ia,ja);ia=Object(ha.a)(ia);if(ia.length!==z)return x("Invalid XOD file: Zip end header data is wrong size!");try{fa.ze=new la.a(ia)}catch(qa){return x(qa)}fa.ze.zua?fa.gr(fa.url,fa.qsa(),function(qa,sa){if(qa)return Object(oa.j)("Error loading zip64 header: "+qa),x(qa);sa=Object(ha.a)(sa);fa.ze.ava(sa);ra()}):ra()})};ca.prototype.K2=function(x){x(Object.keys(this.ze.Hq))};ca.prototype.dT=function(x,fa){var z=this;if(this.ze.N_(x)){var ma=this.ze.KA(x);if(ma in this.$k){var ia=this.Fi[x];
ia.yv=this.$k[ma];ia.yv.ip++;ia.cancel=ia.yv.cancel}else{var ja=this.ze.jqa(x),ra=this.gr(this.url,ja,function(sa,va){sa?(Object(oa.j)('Error loading part "'+x+'": '+sa),z.gr(z.url,ja,function(xa,Ea){if(xa)return fa(xa,x);z.J7(Ea,ja,ma,x,fa)})):z.J7(va,ja,ma,x,fa)}),qa=this.Fi[x];qa&&(qa.x$=!0,qa.cancel=function(){qa.yv.ip--;0===qa.yv.ip&&(ra(),delete z.$k[ma])},this.$k[ma]=new f(ma),qa.yv=this.$k[ma],qa.yv.cancel=qa.cancel)}}else delete this.Fi[x],fa(Error('File not found: "'+x+'"'),x)};ca.prototype.J7=
function(x,fa,z,ma,ia){if(x.length!==fa.stop-fa.start)ia(Error("Part data is wrong size!"),ma);else{do{if(!this.$k[z])return;ma=this.$k[z].ip;for(var ja=fa.Zt.length,ra=0;ra<ja;++ra){var qa=fa.Zt[ra];ia(!1,qa.Wt,x["string"===typeof x?"substring":"subarray"](qa.start,qa.stop),this.ze.h4(qa.Wt));qa.Wt in this.Fi&&delete this.Fi[qa.Wt]}}while(ma!==this.$k[z].ip);delete this.$k[z]}};ca.DISABLE_RANGE_HEADER=!1;ca.lW=3;return ca}(wa.a);(function(ba){function ca(x,fa,z){var ma=ba.call(this)||this,ia;for(ia in x)ma[ia]=
x[ia];ma.NIa=x;ma.startOffset=fa;ma.endOffset=z;ma.Z_=function(ja,ra,qa,sa){Object(na.isUndefined)(ra.stop)?(ra.start+=ma.endOffset,ra.stop=ma.endOffset):(ra.start+=ma.startOffset,ra.stop+=ma.startOffset);ja=ma.Vz(ma.url,ra,ma.ZF);return new x.BC(ja,ra,qa,sa)};return ma}Object(pa.c)(ca,ba);return ca})(ea);Object(h.a)(ea);Object(h.b)(ea);ta["default"]=ea}}]);}).call(this || window)
